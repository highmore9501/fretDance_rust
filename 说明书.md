# FretDance 用户指南

欢迎使用 FretDance！这是一个用于生成吉他演奏动画的工具，可以根据 MIDI 文件自动生成左手和右手的动画数据。本指南将帮助您了解应用程序的各个界面及其功能。

## 主界面

应用程序主界面分为三个主要标签页：

1. 角色设置
2. MIDI 选择
3. 生成动画

![标签页](asset/img/wechat_2025-09-30_070146_790.png)

在界面右上角，您可以切换暗色/亮色主题，并通过"帮助"菜单查看关于信息。

![主题切换按钮](asset\img\wechat_2025-09-30_070413_455.png)

## 1. 角色设置界面

这个界面用于配置您的角色（Avatar）和相关的吉他参数。

### 角色参数设置区域：

- **Avatar 选择**：从下拉菜单中选择一个角色（Avatar）来使用
- **FPS**：设置动画的帧率（每秒帧数）
- **吉他弦音高**：设置每根吉他的音高，从最细的弦到最粗的弦排列
  - 可以使用"常用调弦"预设快速选择标准调弦方式
  - 使用"增加弦数"/"减少弦数"按钮调整吉他弦的数量
- **降低八度**：勾选此选项可将所有音符降低一个八度
- **变调夹位置**：设置变调夹的位置（0-12 品）
- **使用泛音**：勾选此选项启用泛音技术
- **禁用横按**：勾选此选项避免生成横按指法

![角色参数](asset\img\wechat_2025-09-30_070516_167.png)

### 角色信息显示区域：

在右侧显示当前选中角色的信息，包括角色名称、使用的乐器等。
![角色参数](asset\img\wechat_2025-09-30_070703_807.png)

## 2. MIDI 选择界面

这个界面用于选择和配置 MIDI 文件以及相关参数。

### MIDI 参数设置区域：

- **MIDI 文件**：从下拉菜单中选择一个 MIDI 文件
- **扫描 MIDI 信息**：点击此按钮可以扫描并显示所选 MIDI 文件的信息
- **轨道号**：选择要处理的 MIDI 轨道号（0-16）
  - 使用"添加"按钮将选中的轨道添加到处理列表中
  - 使用"删除"按钮从处理列表中移除选中的轨道
- **已选轨道**：显示当前已选择进行处理的所有轨道号
- **通道号**：设置 MIDI 通道号

![MIDI 参数](asset\img\wechat_2025-09-30_070758_840.png)

### MIDI 信息显示区域：

显示扫描到的 MIDI 文件详细信息，包括 track 和 channel 里面使用的乐器，以及音符数量，方便您快速定位到需要处理的轨道。

![MIDI 信息](asset\img\wechat_2025-09-30_070906_952.png)

## 3. 生成动画界面

这个界面显示所有已设置的参数，并提供生成动画数据的按钮。

### 参数概览区域：

左上部分显示所有已设置的参数，包括：

- 角色信息
- 吉他参数（FPS、弦音高、变调夹位置等）
- MIDI 参数（文件名、轨道号、通道号）

![参数概览](asset\img\wechat_2025-09-30_070953_897.png)

### 操作区域：

提供一系列操作按钮，按顺序执行：

1. **初始化**：初始化 FretDancer 系统
2. **生成左手动作**：根据 MIDI 数据生成左手按弦动作
3. **生成左手动画数据**：导出左手动画数据文件
4. **生成右手动作和动画数据**：生成右手拨弦动作和动画数据
5. **生成弦振动数据**：生成弦振动效果数据

还有一个**一键生成所有数据**按钮，可以自动按顺序执行所有操作。

![操作按钮](asset\img\wechat_2025-09-30_071026_834.png)

### 控制台输出区域：

右侧面板显示操作过程中的日志信息和执行结果。

![控制台输出](asset\img\wechat_2025-09-30_071135_217.png)

## 使用流程

建议按以下步骤使用 FretDance：

1. 在"角色设置"界面选择合适的角色和吉他参数
2. 在"MIDI 选择"界面选择 MIDI 文件并配置相关参数
3. 在"生成动画"界面依次执行各个操作，或直接使用"一键生成所有数据"功能

## 小贴士

- 可以随时在右上角切换暗色/亮色主题
- 如果需要处理多个轨道，可以在"MIDI 选择"界面逐个添加

希望这份指南能帮助您顺利使用 FretDance！
